const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vocabulary-registry-97tCqKyH.js","assets/vocabularies-r9nCmmwC.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,a,s)=>((t,a,s)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s)(t,"symbol"!=typeof a?a+"":a,s);import{r as a,a as s,S as o,Z as r,b as i,C as n,A as c,c as l,R as d}from"./vendor-BxvORlxo.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var m={exports:{}},u={},p=a,h=Symbol.for("react.element"),E=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,T=p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,y={key:!0,ref:!0,__self:!0,__source:!0};function f(e,t,a){var s,o={},r=null,i=null;for(s in void 0!==a&&(r=""+a),void 0!==t.key&&(r=""+t.key),void 0!==t.ref&&(i=t.ref),t)g.call(t,s)&&!y.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===o[s]&&(o[s]=t[s]);return{$$typeof:h,type:e,key:r,ref:i,props:o,_owner:T.current}}u.Fragment=E,u.jsx=f,u.jsxs=f,m.exports=u;var _=m.exports,b={},x=s;b.createRoot=x.createRoot,b.hydrateRoot=x.hydrateRoot;class A{constructor(e){t(this,"seed"),this.seed=this.hashCode(e)}hashCode(e){let t=0;for(let a=0;a<e.length;a++){t=(t<<5)-t+e.charCodeAt(a),t&=t}return Math.abs(t)}next(){return this.seed=(1664525*this.seed+1013904223)%Math.pow(2,32),this.seed/Math.pow(2,32)}randInt(e,t){return Math.floor(this.next()*(t-e+1))+e}choice(e){return e[this.randInt(0,e.length-1)]}shuffle(e){const t=[...e];for(let a=t.length-1;a>0;a--){const e=this.randInt(0,a);[t[a],t[e]]=[t[e],t[a]]}return t}}const R=[{id:"depicts-subject",template:"depicts {SUBJECT}",tokens:["SUBJECT"],category:"subject"},{id:"showing-subject",template:"showing {SUBJECT}",tokens:["SUBJECT"],category:"subject"},{id:"featuring-subject",template:"featuring {SUBJECT}",tokens:["SUBJECT"],category:"subject"},{id:"crafted-from",template:"crafted from {MATERIAL}",tokens:["MATERIAL"],category:"material"},{id:"composed-of",template:"composed of {MATERIAL}",tokens:["MATERIAL"],category:"material"},{id:"layered-materials",template:"layered with {MATERIAL} and {MATERIAL}",tokens:["MATERIAL","MATERIAL"],category:"material"},{id:"woven-from",template:"woven from {MATERIAL}",tokens:["MATERIAL"],category:"material"},{id:"using-technique",template:"using {TECHNIQUE}",tokens:["TECHNIQUE"],category:"technique"},{id:"rendered-with",template:"rendered with {TECHNIQUE}",tokens:["TECHNIQUE"],category:"technique"},{id:"created-through",template:"created through {TECHNIQUE}",tokens:["TECHNIQUE"],category:"technique"},{id:"by-artist",template:"by {ARTIST}",tokens:["ARTIST"],category:"attribution"},{id:"in-style-of",template:"in the style of {ARTIST}",tokens:["ARTIST"],category:"attribution"},{id:"attributed-to",template:"attributed to {ARTIST}",tokens:["ARTIST"],category:"attribution"},{id:"school-of",template:"from the school of {ARTIST}",tokens:["ARTIST"],category:"attribution"},{id:"rendered-in",template:"rendered in {STYLE}",tokens:["STYLE"],category:"style"},{id:"following",template:"following {STYLE}",tokens:["STYLE"],category:"style"},{id:"embodying",template:"embodying {STYLE}",tokens:["STYLE"],category:"style"},{id:"painted-in",template:"painted in {COLOR}",tokens:["COLOR"],category:"color"},{id:"featuring-palette",template:"featuring {COLOR}",tokens:["COLOR"],category:"color"},{id:"dominated-by",template:"dominated by {COLOR}",tokens:["COLOR"],category:"color"},{id:"incorporating",template:"incorporating {ARCHITECTURE}",tokens:["ARCHITECTURE"],category:"architectural"},{id:"surrounded-by",template:"surrounded by {ARCHITECTURE}",tokens:["ARCHITECTURE"],category:"architectural"},{id:"enhanced-with",template:"enhanced with {EFFECT}",tokens:["EFFECT"],category:"effect"},{id:"illuminated-by",template:"illuminated by {EFFECT}",tokens:["EFFECT"],category:"effect"},{id:"suffused-with",template:"suffused with {EFFECT}",tokens:["EFFECT"],category:"effect"},{id:"evoking",template:"evoking {MOOD}",tokens:["MOOD"],category:"mood"},{id:"emanating",template:"emanating {MOOD}",tokens:["MOOD"],category:"mood"},{id:"infused-with",template:"infused with {MOOD}",tokens:["MOOD"],category:"mood"},{id:"material-fusion",template:"{MATERIAL} merged with {MATERIAL}",tokens:["MATERIAL","MATERIAL"],category:"fusion"},{id:"temporal-collision",template:"{STYLE} reimagined through {STYLE}",tokens:["STYLE","STYLE"],category:"fusion"},{id:"cross-medium",template:"{SUBJECT} rendered as {MATERIAL}",tokens:["SUBJECT","MATERIAL"],category:"fusion"},{id:"artist-mashup",template:"combining {ARTIST} and {ARTIST}",tokens:["ARTIST","ARTIST"],category:"fusion"},{id:"technique-paradox",template:"{TECHNIQUE} applied to {MATERIAL}",tokens:["TECHNIQUE","MATERIAL"],category:"fusion"},{id:"style-subject-clash",template:"{SUBJECT} in {STYLE} aesthetic",tokens:["SUBJECT","STYLE"],category:"fusion"},{id:"chromatic-architecture",template:"{ARCHITECTURE} bathed in {COLOR}",tokens:["ARCHITECTURE","COLOR"],category:"fusion"},{id:"material-architecture",template:"{ARCHITECTURE} constructed from {MATERIAL}",tokens:["ARCHITECTURE","MATERIAL"],category:"fusion"},{id:"atmospheric-material",template:"{MATERIAL} suffused with {EFFECT}",tokens:["MATERIAL","EFFECT"],category:"fusion"},{id:"emotional-technique",template:"{TECHNIQUE} evoking {MOOD}",tokens:["TECHNIQUE","MOOD"],category:"fusion"},{id:"transformation",template:"{SUBJECT} transforming into {SUBJECT}",tokens:["SUBJECT","SUBJECT"],category:"narrative"},{id:"inhabited-space",template:"{ARCHITECTURE} inhabited by {SUBJECT}",tokens:["ARCHITECTURE","SUBJECT"],category:"narrative"},{id:"emerging-from",template:"{SUBJECT} emerging from {MATERIAL}",tokens:["SUBJECT","MATERIAL"],category:"narrative"},{id:"dissolving-into",template:"{SUBJECT} dissolving into {EFFECT}",tokens:["SUBJECT","EFFECT"],category:"narrative"},{id:"suspended-in",template:"{SUBJECT} suspended in {MATERIAL}",tokens:["SUBJECT","MATERIAL"],category:"narrative"},{id:"rising-through",template:"{SUBJECT} rising through {ARCHITECTURE}",tokens:["SUBJECT","ARCHITECTURE"],category:"narrative"},{id:"becoming",template:"{MATERIAL} becoming {SUBJECT}",tokens:["MATERIAL","SUBJECT"],category:"narrative"},{id:"converging",template:"{SUBJECT} and {SUBJECT} converging",tokens:["SUBJECT","SUBJECT"],category:"narrative"},{id:"synesthetic-color-mood",template:"where {COLOR} sounds like {MOOD}",tokens:["COLOR","MOOD"],category:"sensory"},{id:"tactile-vision",template:"{MATERIAL} that feels like {EFFECT}",tokens:["MATERIAL","EFFECT"],category:"sensory"},{id:"visual-emotion",template:"{COLOR} radiating {MOOD}",tokens:["COLOR","MOOD"],category:"sensory"},{id:"material-sensation",template:"{MATERIAL} evoking the sensation of {SUBJECT}",tokens:["MATERIAL","SUBJECT"],category:"sensory"},{id:"chromatic-texture",template:"{COLOR} with the texture of {MATERIAL}",tokens:["COLOR","MATERIAL"],category:"sensory"},{id:"styled-subject-material",template:"{STYLE} interpretation of {SUBJECT} in {MATERIAL}",tokens:["STYLE","SUBJECT","MATERIAL"],category:"compound"},{id:"artist-technique-subject",template:"{ARTIST}'s {TECHNIQUE} depicting {SUBJECT}",tokens:["ARTIST","TECHNIQUE","SUBJECT"],category:"compound"},{id:"material-color-effect",template:"{MATERIAL} in {COLOR} with {EFFECT}",tokens:["MATERIAL","COLOR","EFFECT"],category:"compound"},{id:"architectural-mood-color",template:"{ARCHITECTURE} emanating {MOOD} through {COLOR}",tokens:["ARCHITECTURE","MOOD","COLOR"],category:"compound"},{id:"as-if",template:"{SUBJECT} as if {STYLE}",tokens:["SUBJECT","STYLE"],category:"comparative"},{id:"reminiscent-of",template:"reminiscent of {ARTIST} meets {ARTIST}",tokens:["ARTIST","ARTIST"],category:"comparative"},{id:"filtered-through",template:"{SUBJECT} filtered through {STYLE}",tokens:["SUBJECT","STYLE"],category:"comparative"},{id:"channeling",template:"channeling {ARTIST} via {TECHNIQUE}",tokens:["ARTIST","TECHNIQUE"],category:"comparative"},{id:"layered-subjects",template:"{SUBJECT} layered over {SUBJECT}",tokens:["SUBJECT","SUBJECT"],category:"spatial"},{id:"framed-by",template:"{SUBJECT} framed by {ARCHITECTURE}",tokens:["SUBJECT","ARCHITECTURE"],category:"spatial"},{id:"woven-with",template:"{SUBJECT} woven with {SUBJECT}",tokens:["SUBJECT","SUBJECT"],category:"spatial"},{id:"nested-within",template:"{SUBJECT} nested within {ARCHITECTURE}",tokens:["SUBJECT","ARCHITECTURE"],category:"spatial"},{id:"intersecting",template:"{SUBJECT} intersecting with {ARCHITECTURE}",tokens:["SUBJECT","ARCHITECTURE"],category:"spatial"},{id:"built-from",template:"built from {MATERIAL} using {TECHNIQUE}",tokens:["MATERIAL","TECHNIQUE"],category:"process"},{id:"assembled-with",template:"assembled with {MATERIAL} and {MATERIAL}",tokens:["MATERIAL","MATERIAL"],category:"process"},{id:"forged-in",template:"forged in {STYLE} with {TECHNIQUE}",tokens:["STYLE","TECHNIQUE"],category:"process"},{id:"sculpted-from",template:"sculpted from {MATERIAL} in {STYLE}",tokens:["MATERIAL","STYLE"],category:"process"},{id:"anachronistic",template:"{STYLE} vision of {SUBJECT}",tokens:["STYLE","SUBJECT"],category:"temporal"},{id:"timeless",template:"{SUBJECT} transcending {STYLE} and {STYLE}",tokens:["SUBJECT","STYLE","STYLE"],category:"temporal"},{id:"era-blend",template:"{ARTIST}'s interpretation through {STYLE}",tokens:["ARTIST","STYLE"],category:"temporal"},{id:"drenched-in",template:"drenched in {COLOR}",tokens:["COLOR"],category:"intensity"},{id:"overwhelmed-by",template:"overwhelmed by {EFFECT}",tokens:["EFFECT"],category:"intensity"},{id:"saturated-with",template:"saturated with {MOOD}",tokens:["MOOD"],category:"intensity"},{id:"crystallized-as",template:"{MOOD} crystallized as {MATERIAL}",tokens:["MOOD","MATERIAL"],category:"intensity"},{id:"concentrated",template:"{SUBJECT} concentrated through {TECHNIQUE}",tokens:["SUBJECT","TECHNIQUE"],category:"intensity"}];function I(e){return R.filter(t=>t.category===e)}const v={fusion:5,compound:4,narrative:3,sensory:3,comparative:2,temporal:2,spatial:2,process:2,intensity:2,subject:1,attribution:1,style:1,material:1,technique:1,color:1,architectural:1,effect:1,mood:1};const C={},L=function(e,t,a){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),a=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map(e=>{if((e=function(e){return"/artfusion/"+e}(e))in C)return;C[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,a&&o.setAttribute("nonce",a),document.head.appendChild(o),t?new Promise((t,a)=>{o.addEventListener("load",t),o.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})};let w={};async function S(){if(Object.keys(w).length>0)return w;try{if("undefined"!=typeof window){const{vocabularyRegistry:e}=await L(async()=>{const{vocabularyRegistry:e}=await import("./vocabulary-registry-97tCqKyH.js");return{vocabularyRegistry:e}},__vite__mapDeps([0,1]));return w=e,w}{w={};const t={"getty-renaissance-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.a9),[]),"getty-baroque-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.aa),[]),"getty-neoclassical-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ab),[]),"getty-impressionist-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ac),[]),"getty-modern-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ad),[]),"getty-abstract-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ae),[]),"getty-surrealist-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.af),[]),"getty-hyperrealist-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ag),[]),"getty-pop-art-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ah),[]),"getty-expressionist-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ai),[]),"getty-pattern-repetition":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.aj),[]),"getty-contemporary-masters":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ak),[]),"getty-classical-materials":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.W),[]),"artistic-materials":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.S),[]),"getty-natural-materials":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.$),[]),"getty-textile-materials":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.a0),[]),"getty-wood-types":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.a7),[]),"getty-inorganic-materials":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.a8),[]),"impossible-materials":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ao),[]),"temporal-paradoxes":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.as),[]),"dimensional-paradoxes":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.at),[]),"biological-impossibilities":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.au),[]),"cultural-mashups":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.av),[]),"scale-paradoxes":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.aw),[]),"sensory-contradictions":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ax),[]),"abstract-textures":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ay),[]),"elemental-contradictions":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.az),[]),"conceptual-materials":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.aA),[]),"earthly-subjects":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.R),[]),"subject-matter":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.V),[]),"getty-natural-landscapes":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.a6),[]),"cosmic-subjects":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ap),[]),"getty-art-techniques":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.X),[]),"getty-crafting-tools":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.a4),[]),"getty-metalworking-tools":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.a2),[]),"getty-woodworking-tools":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.a3),[]),"getty-art-movements":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.Y),[]),"getty-cultural-art-styles":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.Z),[]),"modern-movements":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.U),[]),"ancient-periods":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.T),[]),"getty-classical-colors":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e._),[]),"traditional-palettes":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.Q),[]),"electric-palettes":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.aq),[]),"getty-architectural-elements":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.a1),[]),"getty-design-elements":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.a5),[]),"camera-technical":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.al),[]),"atmospheric-effects":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.am),[]),"gaming-aesthetics":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.an),[]),"transcendent-moods":()=>L(()=>import("./vocabularies-r9nCmmwC.js").then(e=>e.ar),[])};for(const[a,s]of Object.entries(t))try{const e=await s(),t=Object.values(e)[0];t&&t.values&&(w[a]=t)}catch(e){}return w}}catch(e){return{}}}const j={ARTIST:["getty-renaissance-masters","getty-baroque-masters","getty-neoclassical-masters","getty-impressionist-masters","getty-modern-masters","getty-abstract-masters","getty-surrealist-masters","getty-hyperrealist-masters","getty-pop-art-masters","getty-expressionist-masters","getty-pattern-repetition","getty-contemporary-masters"],MATERIAL:["getty-classical-materials","artistic-materials","getty-natural-materials","getty-textile-materials","getty-wood-types","getty-inorganic-materials","impossible-materials","biological-impossibilities","scale-paradoxes","abstract-textures","elemental-contradictions","conceptual-materials"],SUBJECT:["earthly-subjects","subject-matter","getty-natural-landscapes","cosmic-subjects","temporal-paradoxes","dimensional-paradoxes","sensory-contradictions"],TECHNIQUE:["getty-art-techniques","getty-crafting-tools","getty-metalworking-tools","getty-woodworking-tools"],STYLE:["getty-art-movements","getty-cultural-art-styles","modern-movements","ancient-periods","cultural-mashups"],COLOR:["getty-classical-colors","traditional-palettes","electric-palettes"],ARCHITECTURE:["getty-architectural-elements","getty-design-elements"],EFFECT:["camera-technical","atmospheric-effects","gaming-aesthetics"],MOOD:["transcendent-moods"]};async function O(e){const t=j[e];if(!t)return[];const a=await S(),s=[];for(const o of t){const e=a[o];(null==e?void 0:e.values)&&s.push(...e.values)}return s}async function k(e,t=[]){const a=j[e]||[];if(0===t.length)return await O(e);const s=await S(),o=a.filter(e=>{const a=s[e];return t.some(t=>{var s,o;return e.includes(t)||(null==(s=null==a?void 0:a.category)?void 0:s.includes(t))||(null==(o=null==a?void 0:a.description)?void 0:o.toLowerCase().includes(t.toLowerCase()))})}),r=[];for(const i of o){const e=s[i];(null==e?void 0:e.values)&&r.push(...e.values)}return r.length>0?r:await O(e)}class U{static generateSeed(){const e="abcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:6},()=>e[Math.floor(36*Math.random())]).join("")}static generateSchema(e,t,a="artfusion"){const s=new A(e);let o=[];o="classical"===a?["subject","attribution","style","material","fusion"]:"chaos"===a?["fusion","compound","sensory","narrative","temporal"]:["fusion","compound","narrative","subject","attribution"];const r=function(e,t=[],a){const s=[],o=new Set,r=t.length>0?t:["fusion","compound","narrative","subject","attribution"];for(const n of r){if(s.length>=e)break;const t=I(n);if(t.length>0){const e=a?a.choice(t):t[Math.floor(Math.random()*t.length)];s.push(e),o.add(n)}}const i=e-s.length;if(i>0){const e=R.filter(e=>!s.some(t=>t.id===e.id)),t=[];e.forEach(e=>{const a=v[e.category]||1,s=o.has(e.category)?a:2*a;for(let o=0;o<s;o++)t.push(e)});const r=a?a.shuffle(t):t.sort(()=>Math.random()-.5);for(let a=0;a<i&&a<r.length;a++){const e=r[a];s.some(t=>t.id===e.id)||s.push(e)}}return s.slice(0,e)}(t,o,s);return{id:e,complexity:t,fragments:s.shuffle(r),machineType:a}}static async executeSchema(e,t){const a=new A(t),s=`${e.id}.${t}`,o=e.machineType||"artfusion";let r=[];r="classical"===o?["getty","foundation","classical"]:"chaos"===o?["creative","impossible","paradox","cosmic"]:[];const i={},n=[];for(const d of e.fragments){let e=d.template;for(const t of d.tokens){const s=await k(t,r);if(s.length>0){i[t]||(i[t]=[]);const o=s.filter(e=>!i[t].includes(e)),r=o.length>0?o:s,n=a.choice(r);i[t].push(n);const c=new RegExp(`\\{${t}\\}`);e=e.replace(c,n)}else{const a=`[${t}]`,s=new RegExp(`\\{${t}\\}`);e=e.replace(s,a)}}n.push(e)}const c=n.join(", "),l={};for(const[d,m]of Object.entries(i))l[d]=m[m.length-1];return{schemaId:e.id,seed:t,execId:s,resolvedTokens:l,result:c}}static parseExecId(e){const t=e.split(".");return 2===t.length?{schemaId:t[0],seed:t[1]}:null}static async generate(e={}){if(e.execId){const t=this.parseExecId(e.execId);t&&(e.schemaId=t.schemaId,e.seed=t.seed)}const t=e.machineType||"artfusion";let a;if(e.schemaId){const s=parseInt(e.schemaId[0])||4;a=this.generateSchema(e.schemaId,s,t)}else{const s=e.complexity||3+Math.floor(4*Math.random()),o=s.toString()+this.generateSeed();a=this.generateSchema(o,s,t)}const s=e.seed||this.generateSeed();return{schema:a,execution:await this.executeSchema(a,s)}}}const M=()=>{const[e,t]=a.useState([]),[s,d]=a.useState(-1),[m,u]=a.useState(!1),[p,h]=a.useState(!1),[E,g]=a.useState(!1),[T,y]=a.useState(!1),[f,b]=a.useState(""),[x,A]=a.useState(!1);a.useEffect(()=>{(async()=>{const e=new URLSearchParams(window.location.search).get("fusion")||"";let a;e&&e.includes(".")?a=await U.generate({execId:e}):(a=await U.generate(),v(a.execution.execId));t([{result:a,timestamp:new Date}]),d(0)})()},[]);const R=s>=0?e[s]:null;a.useEffect(()=>{R&&I(R.result.execution.result)},[null==R?void 0:R.result.execution.result]);const I=e=>{f!==e&&(A(!0),setTimeout(()=>{b(e),setTimeout(()=>{A(!1)},150)},150))},v=e=>{window.history.pushState({},"",`/artfusion/?fusion=${e}`)};return R?_.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/5 via-purple-500/5 to-pink-500/5"}),_.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl animate-float"}),_.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-cyan-500/10 rounded-full blur-3xl animate-float-delayed"}),_.jsxs("div",{className:"relative z-10 h-screen grid grid-rows-[auto_1fr_auto] px-3 sm:px-4 md:px-6 max-w-4xl mx-auto",children:[_.jsxs("header",{className:"text-center py-3 md:py-4 relative",children:[_.jsx("h1",{className:"text-3xl md:text-5xl font-black bg-gradient-to-r from-cyan-300 via-purple-300 to-pink-300 bg-clip-text text-transparent mb-1 tracking-tight",children:"ArtFusion"}),_.jsx("p",{className:"text-sm md:text-base text-white/60 font-medium",children:"AI Art Prompt Generator"}),_.jsxs("button",{onClick:async()=>{if(!R)return;const e=window.location.href;try{await navigator.clipboard.writeText(e),h(!0),setTimeout(()=>h(!1),2e3)}catch(t){const a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),h(!0),setTimeout(()=>h(!1),2e3)}},className:"absolute top-3 right-0 p-2 rounded-lg transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-cyan-400/50 "+(p?"text-green-400 bg-green-500/10":"text-white/40 hover:text-cyan-400 hover:bg-white/5"),title:p?"Link copied!":"Share link",children:[_.jsx(o,{className:"w-4 h-4 md:w-5 md:h-5"}),p&&_.jsx("span",{className:"absolute -bottom-8 right-0 bg-green-500/90 text-white text-xs px-2 py-1 rounded font-medium whitespace-nowrap animate-in fade-in-0 zoom-in-95 duration-200",children:"Link copied!"})]})]}),_.jsx("div",{className:"flex flex-col min-h-0 py-2",children:_.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl border border-white/10 p-4 md:p-6 shadow-xl flex flex-col h-full relative",children:[_.jsxs("div",{className:"absolute top-4 left-4 text-white/25 text-xs font-mono tracking-wider drop-shadow-sm space-y-1",children:[_.jsxs("div",{children:["SCHEMA: ",R.result.schema.id]}),_.jsxs("div",{children:["SEED: ",R.result.execution.seed.toUpperCase()]})]}),_.jsxs("div",{className:"absolute top-4 right-4 text-white/20 text-xs font-mono tracking-wider drop-shadow space-y-1 text-right",children:[_.jsx("div",{children:R.result.schema.fragments.map(e=>e.category.toUpperCase()).join(" • ")}),_.jsxs("div",{children:["COMPLEXITY: ",R.result.schema.complexity," • FRAGS: ",R.result.schema.fragments.length," • TOKENS: ",Object.keys(R.result.execution.resolvedTokens).length]})]}),_.jsx("div",{className:"flex-1 flex items-center justify-center min-h-0 mb-3 mt-6",children:_.jsx("div",{className:"transition-opacity duration-300 w-full "+(x?"opacity-0":"opacity-100"),children:_.jsx("p",{className:"text-white font-medium leading-relaxed text-center break-words",style:{fontSize:"clamp(1rem, 4vw, 1.5rem)",lineHeight:"1.4"},children:f||R.result.execution.result})})}),_.jsxs("div",{className:"flex gap-2 md:gap-3 flex-shrink-0 mb-2",children:[_.jsx("button",{onClick:async()=>{g(!0);const a=await U.generate(),o={result:a,timestamp:new Date},r=[...e.slice(0,s+1),o];t(r),d(r.length-1),v(a.execution.execId),g(!1)},disabled:E,className:"flex-1 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-400 hover:to-orange-400 text-white py-3 md:py-4 px-3 rounded-lg font-bold transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-yellow-400/50 shadow-lg disabled:opacity-70",children:_.jsxs("div",{className:"flex items-center justify-center gap-1.5 md:gap-2",children:[_.jsx(r,{className:"w-4 h-4"}),_.jsx("span",{className:"text-sm md:text-base font-black",children:E?"SPINNING...":"SPIN"})]})}),_.jsx("button",{onClick:async()=>{if(!R)return;y(!0);const a=await U.generate({schemaId:R.result.schema.id}),o={result:a,timestamp:new Date},r=[...e.slice(0,s+1),o];t(r),d(r.length-1),v(a.execution.execId),y(!1)},disabled:T,className:"flex-1 bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-400 text-white py-3 md:py-4 px-3 rounded-lg font-bold transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 shadow-lg disabled:opacity-70",children:_.jsxs("div",{className:"flex items-center justify-center gap-1.5 md:gap-2",children:[_.jsx(i,{className:"w-4 h-4"}),_.jsx("span",{className:"text-sm md:text-base font-black",children:T?"SHUFFLING...":"SHUFFLE"})]})}),_.jsx("button",{onClick:async()=>{if(!R)return;const e=R.result.execution.result;try{await navigator.clipboard.writeText(e),u(!0),setTimeout(()=>u(!1),2e3)}catch(t){const a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),u(!0),setTimeout(()=>u(!1),2e3)}},className:"flex-1 py-3 md:py-4 px-3 rounded-lg font-bold transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 shadow-lg "+(m?"bg-gradient-to-r from-green-500 to-emerald-500 text-white focus:ring-green-400/50":"bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-400 hover:to-purple-400 text-white focus:ring-pink-400/50"),children:_.jsxs("div",{className:"flex items-center justify-center gap-1.5 md:gap-2",children:[_.jsx(n,{className:"w-4 h-4"}),_.jsx("span",{className:"text-sm md:text-base font-black",children:m?"COPIED!":"COPY"})]})})]})]})}),_.jsx("div",{className:"py-2 md:py-3 pb-6 md:pb-8 flex items-center justify-center flex-shrink-0",children:_.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-lg border border-white/10 p-3 md:p-4 min-w-[280px] h-[80px] md:h-[90px] flex flex-col justify-center",children:_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex items-center justify-center gap-4 md:gap-6",children:[_.jsx("button",{onClick:()=>{if(s>0){const t=s-1;d(t),v(e[t].result.execution.execId)}},disabled:s<=0,className:"flex items-center justify-center w-8 h-8 rounded-md bg-white/10 hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed transition-all duration-200",children:_.jsx(c,{className:"w-4 h-4 text-white"})}),_.jsxs("div",{className:"text-white/60 font-mono text-xs md:text-sm",children:[s+1," / ",e.length]}),_.jsx("button",{onClick:()=>{if(s<e.length-1){const t=s+1;d(t),v(e[t].result.execution.execId)}},disabled:s>=e.length-1,className:"flex items-center justify-center w-8 h-8 rounded-md bg-white/10 hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed transition-all duration-200",children:_.jsx(l,{className:"w-4 h-4 text-white"})})]}),_.jsx("div",{className:"flex justify-center mt-3 gap-1 h-[8px]",children:e.map((t,a)=>_.jsx("button",{onClick:()=>{return d(t=a),void v(e[t].result.execution.execId);var t},className:"w-1.5 h-1.5 rounded-full transition-all duration-200 "+(a===s?"bg-cyan-400 scale-125":"bg-white/30 hover:bg-white/50")},a))})]})})})]}),_.jsx("div",{className:"relative z-10 bg-slate-950/80 backdrop-blur-sm border-t border-white/10",children:_.jsx("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 md:px-6 py-6 md:py-8",children:_.jsxs("div",{className:"text-center",children:[_.jsxs("p",{className:"text-white/50 text-sm font-medium",children:["Crafted with ✨ by"," ",_.jsx("a",{href:"https://algoplay.com",className:"text-cyan-400/70 hover:text-cyan-300 transition-colors font-semibold",target:"_blank",rel:"noopener noreferrer",children:"algoplay.com"})]}),_.jsx("p",{className:"text-white/30 text-xs mt-2",children:"Empowering creativity through AI-powered art prompt generation"})]})})})]}):_.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:_.jsx("div",{className:"text-white",children:"Loading..."})})};b.createRoot(document.getElementById("root")).render(_.jsx(d.StrictMode,{children:_.jsx(M,{})}));
